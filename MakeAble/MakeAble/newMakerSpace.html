<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="utf-8" />
    <title>הוספת חלל עבודה</title>

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <!--<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!------ Include the above in your HEAD tag ---------->

    <link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!------ Include the above in your HEAD tag ---------->

    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script src="Scripts/ajaxCalls.js"></script>

    <link href="Style/newMakerSpace_style.css" rel="stylesheet" />


    <script>
        $(document).ready(function () {
            $("#finish").click(f1);
            var data = {
                resource_id: '5c78e9fa-c2e2-4771-93ff-7f400a12f7ba', // the resource id
            };
            $.ajax({
                url: 'https://raw.githubusercontent.com/royts/israel-cities/master/israel-cities.json',
                data: data,
                dataType: 'json',
                success: function (data) {

                    var citieslist = [];
                    var value = " <option value='בחירת עיר'></option>";
                    for (var i = 1; i < data.length; i++) {
                        citieslist.push(data[i].name);
                        value += " <option data-id='" + data[i].name + "' value = '" + data[i].name + "' > " + data[i].name + "</option > ";
                    }
                    $("#mylist").append(value);
                }
            });
        });


        function f1() {
            var getvalue = document.getElementsByName('mylist')[0];
            city = getvalue.value;

            makerspace = {
                City: city,
                Street: $("#MakerSpace_address_s").val(),
                Num_street: $("#MakerSpace_address_n").val(),
                MakerspaceName: $("#MakerSpace_Name").val(),
                PhoneNumber: $("#MakerSpace_Tel").val(),
                Url: $("#MakerSpace_Url").val(),
                NoPepole: $("#MakerSpace_Max").val(),
                Size: $("#MakerSpace_Size").val(),
                Price: $("#MakerSpace_Price").val(),
                Descrip: $("#textarea").val(),
                Profession: $("#selectmultiple").val(),
                Aircondition: parseInt($("#fa1:checked").val()),
                Accessibility: parseInt($("#fa5:checked").val()),
                Serving_coffee: parseInt($("#fa2:checked").val()),
                Online_payment: parseInt($("#fa4:checked").val()),
                Free_parking: parseInt($("#fa3:checked").val()),
            }
            upload();
        }

        function upload() {
            ajaxCall("POST", "../api/Makerspace", JSON.stringify(makerspace), success, error);
        }


        function success(data) {
            //swal("Added Successfuly!", "Great Job", "success");
            swal({
                title: "Added Successfuly!", text: "Moving to Your MakerSpaces", type:
                    "success"
            }).then(function () {
                window.location.href = 'personal-my_spaces.html';
            }
            );
            clear();
        }

        function error(err) {
            alert(err.responseJSON);
        }

        function clear() {
                $("#MakerSpace_Name").val(''),
                $("#MakerSpace_address_s").val(''),
                $("#MakerSpace_address_n").val(''),
                $("#MakerSpace_Tel").val(''),
                $("#MakerSpace_Url").val(''),
                $("#selectmultiple").val(''),
                $("#MakerSpace_Max").val(''),
                $("#MakerSpace_Size").val(''),
                $("#MakerSpace_Price").val(''),
                $("#textarea").val('')
        }

    </script>
</head>

<body dir="rtl">
    <div class="container">
        <form class="form-horizontal" id="pForm" role="form">
            <h1>הוספת חלל עבודה חדש</h1>
            <div class="form-group">
                <div class="col-sm-9">
                    <input type="text" id="MakerSpace_Name" placeholder="שם החלל" class="form-control" autofocus maxlength="25" require>
                </div>
                <label for="firstName" class="col-sm-3 control-label">שם החלל</label>
            </div>
            <div class="form-group">
                <div class="col-sm-9">
                    <table>
                        <tr>
                            <td>
                                <input class="form-control" list="mylist" name="mylist" placeholder="עיר" require>
                                <datalist id="mylist">
                                </datalist>

                            </td>
                            <td>
                                <input type="text" id="MakerSpace_address_s" placeholder="רחוב" class="form-control" autofocus required>
                            </td>
                            <td>
                                <input type="number" id="MakerSpace_address_n" placeholder="מספר" class="form-control" autofocus required>
                            </td>
                            <td>
                            </td>
                        </tr>
                    </table>
                </div>
                <label for="firstName" class="col-sm-3 control-label">כתובת</label>
            </div>
            <div class="form-group">
                <div class="col-sm-9">
                    <input type="text" id="MakerSpace_Tel" placeholder="טלפון" class="form-control" autofocus required
                           pattern="[0-9]{3}-[0-9]{7}"
                           oninvalid="this.setCustomValidity('Format should be ddd-ddddddd')"
                           oninput="this.setCustomValidity('')">
                </div>
                <label for="firstName" class="col-sm-3 control-label">טלפון</label>
            </div>
            <div class="form-group">
                <div class="col-sm-9">
                    <input type="text" id="MakerSpace_Url" placeholder="אתר אינטרנט" class="form-control" autofocus required
                           pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                           oninvalid="this.setCustomValidity('Format should be characters@characters.domain')"
                           oninput="this.setCustomValidity('')">
                </div>
                <label for="firstName" class="col-sm-3 control-label">אתר אינטרנט</label>
            </div>
            <div class="form-group">
                <div class="col-sm-9">
                    <button type="button" class="btn btn-info" data-toggle="modal" data-target="#myModal">הגדר שעות פעילות</button>
                </div>
                <label for="firstName" class="col-sm-3 control-label">שעות פעילות</label>
            </div>
            <div class="container1">
                <!-- Modal -->
                <div class="modal fade" id="myModal" role="dialog">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body">
                                <table class="col-sm-9">
                                    <tr>
                                        <td>
                                            <label for="appt-time">יום ראשון: </label>
                                        </td>
                                        <td>
                                            מ:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                        <td>
                                            עד:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="appt-time">יום שני: </label>
                                        </td>
                                        <td>
                                            מ:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                        <td>
                                            עד:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="appt-time">יום שלישי: </label>
                                        </td>
                                        <td>
                                            מ:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                        <td>
                                            עד:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="appt-time">יום רביעי: </label>
                                        </td>
                                        <td>
                                            מ:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                        <td>
                                            עד:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="appt-time">יום חמישי: </label>
                                        </td>
                                        <td>
                                            מ:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                        <td>
                                            עד:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="appt-time">יום שישי: </label>
                                        </td>
                                        <td>
                                            מ:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                        <td>
                                            עד:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="appt-time">יום שבת: </label>
                                        </td>
                                        <td>
                                            מ:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                        <td>
                                            עד:<input id="appt-time" type="time" name="appt-time">
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">אישור</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Select Multiple -->
            <div class="form-group">
                <div class="col-sm-9">

                    <select id="selectmultiple" name="selectmultiple" class="form-control" multiple="multiple" required>
                        <option value="אומנות">אומנות</option>
                        <option value="מדפסות תל מימד">מדפסות תל מימד</option>
                        <option value="נגרות">נגרות</option>
                        <option value="תכנות">תכנות</option>
                    </select>
                </div>
                <label class="col-sm-3 control-label" for="selectmultiple">תחומי עיסוק</label>
                <p class="col-sm-9">*החזק את הcontrol לבחירה מרובה</p>
            </div>
            <div class="form-group">
                <div class="col-sm-9">
                    <input type="number" id="MakerSpace_Max" placeholder="מספר אנשים מותר בחלל" class="form-control" autofocus required>
                </div>
                <label for="firstName" class="col-sm-3 control-label">מספר אנשים מותר בחלל</label>
            </div>
            <div class="form-group">
                <div class="col-sm-9">
                    <input type="number" id="MakerSpace_Size" placeholder="גודל חלל עבודה במ'ר" class="form-control" autofocus required>
                </div>
                <label for="firstName" class="col-sm-3 control-label">גודל חלל עבודה במ'ר</label>
            </div>
            <div class="form-group">
                <div class="col-sm-9">
                    <input type="number" id="MakerSpace_Price" placeholder="מחיר לשעת עבודה" class="form-control" autofocus required>
                </div>
                <label for="firstName" class="col-sm-3 control-label">מחיר לשעת עבודה</label>
            </div>
            <div class="form-group">
                <div class="col-sm-9">
                    <textarea class="form-control" id="textarea" name="textarea" placeholder="תיאור קצר"></textarea>
                </div>
                <label class="col-sm-3 control-label" for="textarea">תיאור קצר</label>
            </div>
            <div class="form-group">
                <div class="col-sm-9">
                    <input type="checkbox" id="fa1" name="fa1" value="1">
                    <label for="fa1"> מיזוג אוויר</label><br>
                    <input type="checkbox" id="fa2" name="fa2" value="1">
                    <label for="fa2"> עמדת קפה וכיבוד</label><br>
                    <input type="checkbox" id="fa3" name="fa3" value="1">
                    <label for="fa3"> חניה חינם</label><br>
                    <input type="checkbox" id="fa4" name="fa4" value="1">
                    <label for="fa4"> תשלום אונליין</label><br>
                    <input type="checkbox" id="fa5" name="fa5" value="1">
                    <label for="fa5"> נגישות</label><br>
                </div>
                <label for="firstName" class="col-sm-3 control-label">מתקנים</label>
            </div>
            <!--File Button
    <div class="form-group">
        <div class="col-sm-9">
            <button type="button" class="btn btn-info" data-toggle="modal" data-target="#myModal2">הוסף כלי עבודה</button>
        </div>
        <label for="firstName" class="col-sm-3 control-label">כלי עבודה</label>
    </div>
    <div class="container2">
         Modal
        <div class="modal fade" id="myModal2" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <table class="col-sm-9">
                            <tr>
                                <td>
                                    <label for="appt-time">שם הכלי</label>
                                </td>
                                <td>
                                    <input type="text" id="Tool_Name" placeholder="שם הכלי" class="form-control" autofocus required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="appt-time">מותג</label>
                                </td>
                                <td>
                                    <input type="text" id="Tool_Brand" placeholder="מותג" class="form-control" autofocus required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="appt-time">דגם</label>
                                </td>
                                <td>
                                    <input type="text" id="Tool_Model" placeholder="דגם" class="form-control" autofocus required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="appt-time">תיאור</label>
                                </td>
                                <td>
                                    <textarea class="form-control" id="textarea2" name="textarea" placeholder="תיאור"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="appt-time">תמונות הכלי</label>
                                </td>
                                <td>
                                    <input id="filebutton" name="filebutton" class="input-file" type="file" multiple required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="appt-time">האם נידרשת הכשרה?</label>
                                </td>
                                <td>
                                    <input type="radio" name="colors" id="Learn_yes">כן<br>
                                    <input type="radio" name="colors" id="Learn_no">לא
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">הוספת כלי נוסף</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">אישור וסיום</button>
                    </div>
                </div>
            </div>
        </div>
    </div>-->
            <div>
                <button id="finish" type="submit" class="btn btn-primary btn-block">הוספת חלל</button>
            </div>
        </form> <!-- /form -->
    </div> <!-- ./container -->
</body>
</html>